version: "3.7"

services:
    webcrawler:
        container_name: web-scraper
        restart: unless-stopped
        build:
            context: .
            dockerfile: Dockerfile
        ports:
            - 5000:5000
        volumes:
            - ~/.aws:/root/.aws:ro
        env_file:
            - .env

    redis:
        image: redis:alpine
        container_name: redis-crawler
        hostname: redis
        ports:
            - 6379:6379
        volumes:
            - ./redis-data/redis:/data

    redis-c:
        container_name: redis-commander-crawler
        image: rediscommander/redis-commander
        depends_on:
            - redis
        environment:
            REDIS_HOST: localhost
            REDIS_PORT: 6379
        ports:
            - 8081:8081
